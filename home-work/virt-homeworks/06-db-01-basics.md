# Домашнее задание к занятию "6.1. Типы и структура СУБД"

## Введение

Перед выполнением задания вы можете ознакомиться с 
[дополнительными материалами](https://github.com/netology-code/virt-homeworks/tree/master/additional/README.md).

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

1. Электронные чеки в json виде
2. Склады и автомобильные дороги для логистической компании
3. Генеалогические деревья
4. Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
5. Отношения клиент-покупка для интернет-магазина

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

### Решение задачи 1
1- MongoDB подойдет как представитель документооренированной БД. К тому же она поддерживают данный формат обмена данными (json).
2- Как мне кажется здесь нужна БД из рода noSQL. Будет много связей со множеством и дополнительных описаний. Подходит графовые Neo4j, AllegroGraph.
3- Здесь подойдет модель иерархических данных, структурирование последоавтельно в виде дерева и соотношение количества родитель-дочка. Пришлось покапаться, их не так много в качестве примера могу привести IBM — ISM.
4- Redis. Отлично подойдет для работы с данными которые необходимо хранить в оперативной памяти. Так же плюсом Pub/Sub в данной БД.
5- Я помню что вы говорили про ebay, но насколько понимаю здесь в большинстве своём нужна доступность и согласованность СА. Поэтому я бы выбрал MySQL, MariaDB. Для больших проектов всё же PostgreSQL.


## Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

1- Данные записываются на все узлы с задержкой до часа (асинхронная запись)
2- При сетевых сбоях, система может разделиться на 2 раздельных кластера
3- Система может не прислать корректный ответ или сбросить соединение

А согласно PACELC-теореме, как бы вы классифицировали данные реализации?
### Решение задачи 2
По CAP теореме:
1. C. Согласованность и устойчивость к разделению
2. P. Устойчивость к разделению
3. AP. Доступность и устойчивость к разделению
ПО PACELC теореме, где отличие от CAP это latency (задержка) у нас такие результаты:
1. CL. Согласованность и устойчивость к разделению
2. P. Устойчивость к разделению
3. AP. Доступность и устойчивость к разделению

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?
### Решение задачи 3
Нет, не могут. ACID - основана на согласованности, прменяется часто для SQL баз.
BASE - жертвует согласованностью в обмен на доступность. В BASE если невозможно добиться строгой согласованности, каждый из узлов может ответить учитывая его бизнес интересы. 
Это два противоположных принципа.


## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). 
Что это за система? Какие минусы выбора данной системы?

---
### Решение задачи 4
Pub/Sub - это модель передачи сообщений. Принцип которого заключается в процессе какого-то запроса, его последовательной обработке, доставке результата по назначению и обработки его на запрашиваемой стороне. Здесь можно выделить три стороны: 1.Кто запрашивает, 2.Кто предоставляет и 3.Кто обрабатывает. Так же здесь есть понятие очередь, в которой ожидают сообщения.
Минусами этой модели является:
1. Излишняя сложность в небольших системах, так так его необходимо правильно настроить и подерживать в маленьких проектах он будет съедать много времени и ресурсов.
2. Не подходит для отправки потоковых мультимедийных данных, так как они требуют плавной пеердачи данных и в очереди они не постоят.


### Как cдавать задание

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---
